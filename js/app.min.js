let footer = document.querySelector('.footer'); let logo = document.querySelector('.wrapper_logo'); let button_end = document.querySelector('.button_end'); let toggle_text = document.querySelector('.toggle_text'); let zSpecing = -1400, lastPos = zSpecing / 5, $frames = document.querySelectorAll('.frame'), frames = Array.from($frames), zVals = []
let top2 = document.documentElement.scrollTop.toFixed();
function update() {
    let top = document.documentElement.scrollTop.toFixed(); delta = lastPos - top; lastPos = top; top > 1 ? footer.classList.add('none') & logo.classList.add('none_logo') : footer.classList.remove('none') & logo.classList.remove('none_logo'); top > 500 && toggle_text.classList.add('done2'); frames.forEach((n, i) => {
        zVals.push((i * zSpecing) + zSpecing)
        zVals[i] += delta * -5; let frame = frames[i], transform = `translateZ(${zVals[i]}px)`
        frame.setAttribute('style', `transform: ${transform}`)
    })
}

window.scrollTo(0, 0.99)
button_end.addEventListener('click', () => window.scrollTo({ top: 0.9, behavior: 'smooth', }))
let preloader = document.querySelector('.preloader'); let body = document.querySelector('body');
window.onload = () => {
    setTimeout(() => {
        !preloader.classList.contains('done') && preloader.classList.add('done')
    }, 1500), setTimeout(() => {
        preloader.classList.contains('done') && preloader.classList.add('done2'), body.classList.add('plus_overflow')
    }, 3500); let E = false;
    $(window).scroll(() => {
        if (E) {
            return;
        }
        update();
        E = true;
        setTimeout(function () {
            E = false;
        }, 6);
    });
}
